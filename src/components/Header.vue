<template>
  <div class="Header" :class="headerClass">
    <div class="Header__container side-indent">
      <div class="Header__logo">
        <svg width="105" height="20" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M12.5 19.1h-1.9c-.6 0-1-.1-1.3-.5-.3-.3-.5-.8-.5-1.3V10c0-.8-.2-1.4-.8-1.8a2.8 2.8 0 0 0-3.3 0c-.6.4-.8 1-.8 1.9v9H0v-8.3c0-2.4.7-4 2-4.8a8 8 0 0 1 4.1-1.4c1.5 0 3 .4 4.3 1.2 1.3.9 2 2.5 2 5v8.3Zm10.7-.5c-.7.4-1.5.6-2.4.7l-2.2.1c-1.2 0-2.3-.3-3.3-1s-1.4-1.9-1.4-3.4c0-1.6.4-2.6 1.3-3.3a7.5 7.5 0 0 1 3.9-1.3l.9-.2c1.6-.2 2.3-.6 2.3-1.4 0-.5-.2-.9-.8-1L20 7.5c-.5 0-1 .1-1.4.3-.4.1-.6.4-.8.7h-3.6c.2-1 .7-2 1.5-2.7a6.2 6.2 0 0 1 4.1-1.2c2 0 3.5.3 4.5 1a3.4 3.4 0 0 1 1.5 3v4.9c0 1.4-.2 2.5-.8 3.3-.5.8-1 1.4-1.8 1.7Zm-.7-6.7-2.1.7-1.3.3-1.4.7c-.2.4-.4.7-.4 1.1 0 .6.2 1 .6 1.3.3.3.7.5 1.4.5 1 0 1.7-.3 2.3-.9.5-.5.9-1.3.9-2.3v-1.4Zm17.3 7.2H38c-.6 0-1-.1-1.3-.5-.4-.3-.6-.8-.6-1.3V10c0-.8-.2-1.4-.7-1.8a2.8 2.8 0 0 0-3.5 0c-.5.4-.7 1-.7 1.9v9h-3.7v-8.3c0-2.4.6-4 1.9-4.8a7.8 7.8 0 0 1 4.1-1.4c1.6 0 3 .4 4.3 1.2 1.4.9 2 2.5 2 5v8.3Zm3.4-1.3a5.3 5.3 0 0 1-1.5-2.5c-.6-2-.6-4.2 0-6.2.2-1 .6-1.8 1.2-2.5.9-1 2-1.7 3.5-1.8 1.5-.2 2.8-.1 4 .3 1.4.6 2.3 1.5 3 2.8 1 2.2 1.2 4.7.6 7-.3.9-.7 1.5-1 2-.8 1.2-2 2-3.3 2.3a7.3 7.3 0 0 1-6.4-1.3Zm2.6-9.4a5 5 0 0 0-1 3.7c0 1.7.4 2.8.9 3.4.2.3.6.5 1.1.8h1.7c.5-.2 1-.6 1.4-1.2.5-.6.7-1.7.7-3.1 0-1.3-.2-2.3-.6-2.9-.3-.6-.8-1-1.4-1.2-.6-.2-1.1-.2-1.6 0-.4 0-.8.3-1.2.5Zm10.6 10.7V2.7c0-.6.3-1 .6-1.4.4-.3.8-.5 1.4-.5h1.8v6.8h7.6V.8h3.8V19h-3.8V11h-7.6V19h-3.8ZM77.4.7v11.5c0 1.4.2 2.5.7 3.2.6.6 1.5 1 2.7 1 1.2 0 2.1-.4 2.7-1 .6-.7.9-1.7.9-3.2V.7h3.8v11.8c0 2.3-.7 4.1-2 5.2-1 1.2-3 1.8-5.4 1.8-2.4 0-4.3-.5-5.4-1.8-1.3-1.1-2-2.8-2-5.2V2.8c0-.6.3-1 .6-1.5a2 2 0 0 1 1.4-.6h2ZM90 19V2.7c0-.6.1-1 .5-1.4.4-.3.9-.5 1.4-.5h6.7c1.9 0 3.3.4 4.3 1.1a4.3 4.3 0 0 1 1.5 3.5c0 1-.2 1.7-.6 2.4-.4.5-1 1-1.7 1.4a4.4 4.4 0 0 1 2.9 4.4c0 1.7-.6 3.1-1.7 4.1a7.9 7.9 0 0 1-5 1.4H90ZM93.6 8h4.3c1 0 1.6-.2 2-.5.4-.3.7-.8.7-1.5s-.3-1.1-.7-1.5c-.3-.3-1-.4-2-.4h-4.3v3.9Zm0 8h4.5c1 0 1.7-.3 2.2-.7.5-.3.8-1 .8-1.8s-.3-1.5-.8-1.8c-.4-.4-1.2-.6-2.3-.6h-4.4v4.8Z" fill="#fff"/></svg>
      </div>
      <div class="Header__locale-icon" @click="toggleLocale">
        {{locale === 'ua' ? 'EN' : 'UA'}}
      </div>
      <div class="Header__menu-icon" @click="toggleMenu">
        <svg v-if="!isLight" width="30" height="24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M2.67 6.4c3-2.49 5.33-4.36 11.66-.93 3 1.55 5.34 2.17 7.34 2.17 3.33 0 5.66-1.86 7.66-3.42.67-.62 1-1.55.34-2.18-.67-.62-1.67-.93-2.34-.3-3 2.48-5.33 4.35-11.66.93-8-4.36-12-1.25-15 1.24-.67.62-1 1.56-.34 2.18.67.62 1.67.93 2.34.31Zm24.66 3.42c-3 2.18-5.33 4.05-11.66.94-8-4.36-12-1.25-15 1.24-.67.31-1 1.56-.34 2.18a1.7 1.7 0 0 0 2.34 0c3-2.18 5.33-4.05 11.66-.94 3 1.87 5.34 2.18 7.34 2.18 3.33 0 5.66-1.55 7.66-3.42.67-.31 1-1.56.34-2.18a1.7 1.7 0 0 0-2.34 0Zm0 7.78c-3 2.49-5.33 4.36-11.66.93-8-4.35-12-1.24-15 1.25-.67.62-1 1.55-.34 2.18.67.62 1.67.93 2.34.3 3-2.48 5.33-4.35 11.66-.93 3 1.56 5.34 2.18 7.34 2.18 3.33 0 5.66-1.87 7.66-3.42.67-.62 1-1.56.34-2.18-.67-.62-1.67-.93-2.34-.31Z" fill="#fff"/></svg>
        <svg v-if="isLight" width="30" height="24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M2.67 6.4c3-2.49 5.33-4.36 11.66-.93 3 1.55 5.34 2.17 7.34 2.17 3.33 0 5.66-1.86 7.66-3.42.67-.62 1-1.55.34-2.18-.67-.62-1.67-.93-2.34-.3-3 2.48-5.33 4.35-11.66.93-8-4.36-12-1.25-15 1.24-.67.62-1 1.56-.34 2.18.67.62 1.67.93 2.34.31Zm24.66 3.42c-3 2.18-5.33 4.05-11.66.94-8-4.36-12-1.25-15 1.24-.67.31-1 1.56-.34 2.18a1.7002 1.7002 0 0 0 2.34 0c3-2.18 5.33-4.05 11.66-.94 3 1.87 5.34 2.18 7.34 2.18 3.33 0 5.66-1.55 7.66-3.42.67-.31 1-1.56.34-2.18a1.6998 1.6998 0 0 0-2.34 0Zm0 7.78c-3 2.49-5.33 4.36-11.66.93-8-4.35-12-1.24-15 1.25-.67.62-1 1.55-.34 2.18.67.62 1.67.93 2.34.3 3-2.48 5.33-4.35 11.66-.93 3 1.56 5.34 2.18 7.34 2.18 3.33 0 5.66-1.87 7.66-3.42.67-.62 1-1.56.34-2.18-.67-.62-1.67-.93-2.34-.31Z" fill="#000"/></svg>
      </div>
    </div>
  </div>
</template>

<script>
import { mapMutations, mapGetters } from 'vuex';
import { useCookies } from 'vue3-cookies';

export default {
  name: 'Header',
  setup() {
    const { cookies } = useCookies();
    return { cookies };
  },
  props: {
    headerClass: String,
  },
  computed: {
    ...mapGetters(['locale']),
    isLight() {
      return this.headerClass.includes('light');
    },
  },
  methods: {
    ...mapMutations(['toggleMenu', 'setLocale']),
    toggleLocale() {
      if (this.locale === 'ua') {
        this.setLocale({ locale: 'en' });
      } else {
        this.setLocale({ locale: 'ua' });
      }

      this.cookies.set('locale', this.locale);
    },
  },
};
</script>

<style lang="scss" scoped>
  .Header {
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    z-index: 5;

    &__container {
      display: flex;
      align-items: center;
      padding-top: 35px;
      padding-bottom: 35px;
    }

    &__logo {
      flex: 1;
      margin-right: 20px;
    }

    &--light {
      background-color: #fff;
      box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);

      .Header__logo {
        path {
          fill: #000;
        }
      }

      .Header__locale-icon {
        color: #000;
      }
    }

    &--sticky {
      position: sticky;
    }

    &--full-width {
      .Header__container {
        max-width: 1740px;
      }
    }

    &__menu-icon {
      opacity: 1;
      cursor: pointer;
      transition: opacity .3s;

      &:hover {
        opacity: 0.7;
      }
    }

    &__locale-icon {
      font-weight: 500;
      font-size: 22px;
      color: #fff;
      margin: 0 30px;
      cursor: pointer;
      transition: opacity 0.3s;

      &:hover {
        opacity: 0.9;
      }
    }
  }
</style>
